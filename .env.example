# OpenDS Environment Configuration
# Copy this file to .env and update with your configuration

# ================================
# Database Configuration
# ================================

# PostgreSQL connection string (production)
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://opends:changeme@localhost:5432/opends

# For Docker Compose development:
# DATABASE_URL=postgresql://opends:opends@postgres:5432/opends

# ================================
# Application Configuration
# ================================

# Node environment (development, production)
NODE_ENV=production

# Server host and port
HOST=0.0.0.0
PORT=3000

# API base URL (optional, defaults to /api)
API_BASE=/api

# ================================
# Authentication & Security
# ================================

# JWT Secret - MUST be changed in production!
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE-THIS-TO-A-SECURE-RANDOM-STRING

# JWT token expiration times
JWT_ACCESS_EXPIRE=15m
JWT_REFRESH_EXPIRE=7d

# Allow new user registration (true/false)
# Set to false to disable public registration
ALLOW_REGISTRATION=true

# ================================
# Optional: Default Admin User
# ================================
# If set, creates a default admin user on first startup
# Remove these after initial setup for security

# ADMIN_EMAIL=admin@opends.local
# ADMIN_PASSWORD=ChangeMe123!

# ================================
# Optional: CORS Configuration
# ================================
# Configure Cross-Origin Resource Sharing
# Default in production: * (allow all origins)
# Default in development: localhost only
# For security, specify exact origins in production:
# CORS_ORIGIN=https://app.example.com,https://api.example.com

# ================================
# Optional: External Services
# ================================

# Directus CMS integration (if using)
# DIRECTUS_URL=https://directus.example.com
# DIRECTUS_TOKEN=your-directus-token

# ================================
# Development Only
# ================================

# Uncomment for verbose logging
# DEBUG=true
# LOG_LEVEL=debug
